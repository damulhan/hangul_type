var hangul=function(a){"use strict";function b(){var a;for(this.items={},a=0;a<arguments.length;a++)this.add(arguments[a])}function c(b,d){this.items={},this.inverse=d||new c(a,this),b&&this.addAll(b)}function h(a,b,d){for(var e=new c,f=b-a+1,g=0,h=0;f>g;g++)(!d||d.indexOf(g)<0)&&e.add(h++,String.fromCharCode(g+a));return e}function i(a){var b=a&&a.charAt&&a.charAt(0);return d.hasValue(b)||j(b)}function j(a){var b=a&&a.charCodeAt&&a.charCodeAt(0);return b>=44032&&55203>=b}function k(a){return d.hasValue(a&&a.charAt&&a.charAt(0))}function l(a){return e.hasValue(a&&a.charAt&&a.charAt(0))}function m(a){return f.hasValue(a&&a.charAt&&a.charAt(0))}function n(a){return g.hasValue(a&&a.charAt&&a.charAt(0))}function o(a){var b=a&&a.charCodeAt&&a.charCodeAt(0);return e.get(Math.floor((b-44032)/28/21))}function p(a){var b=a&&a.charCodeAt&&a.charCodeAt(0);return f.get(Math.floor((b-44032)/28)%21)}function q(b){var c=b&&b.charCodeAt&&b.charCodeAt(0),d=(c-44032)%28;return d>0?g.get(d-1):0===d?"":a}function r(b){var c=b&&b.charAt&&b.charAt(0);if(!j(c))return a;var d=[o(c),p(c),q(c)];return""===d[2]&&d.pop(),d}function s(b,c,d){var h=e.inverse.get(b),i=f.inverse.get(c),k=d===a||""===d?0:g.inverse.get(d)+1,l=String.fromCharCode(44032+28*(21*h+i)+k);return j(l)?l:a}function u(a,b){return t.inverse.get(a+b)}function v(b){var c=t.get(b);return c===a?c:[c.charAt(0),c.charAt(1)]}function x(a){return w.has(a&&a.charAt&&a.charAt(0))}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&1/0!==d&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),b.prototype.has=function(a){return a in this.items},b.prototype.add=function(a){this.items[a]=1},c.prototype.add=function(a,b){this.items[a]=b,this.inverse.items[b]=a},c.prototype.addAll=function(a){var b;for(b in a)this.add(b,a[b])},c.prototype.hasKey=function(a){return a in this.items},c.prototype.hasValue=function(a){return a in this.inverse.items},c.prototype.get=function(a){return this.items[a]};var d=h(12593,12643),e=h(12593,12622,[2,4,5,9,10,11,12,13,14,15,19]),f=h(12623,12643),g=h(12593,12622,[7,18,24]),t=new c({"\u3133":"\u3131\u3145","\u3135":"\u3134\u3148","\u3136":"\u3134\u314e","\u313a":"\u3139\u3131","\u313b":"\u3139\u3141","\u313c":"\u3139\u3142","\u313d":"\u3139\u3145","\u313e":"\u3139\u314c","\u313f":"\u3139\u314d","\u3140":"\u3139\u314e","\u3144":"\u3142\u3145","\u3132":"\u3131\u3131","\u3138":"\u3137\u3137","\u3143":"\u3142\u3142","\u3146":"\u3145\u3145","\u3149":"\u3148\u3148","\u3158":"\u3157\u314f","\u3159":"\u3157\u3150","\u315a":"\u3157\u3163","\u315d":"\u315c\u3153","\u315e":"\u315c\u3154","\u315f":"\u315c\u3163","\u3162":"\u3161\u3163"}),w=new b("\u3163","\u3151","\u3152","\u3155","\u3156","\u315b","\u3160");return{Set:b,Map:c,jamo:d,initials:e,medials:f,finals:g,isHangul:i,isSyllable:j,isJamo:k,isInitial:l,isMedial:m,isFinal:n,getInitial:o,getMedial:p,getFinal:q,decompose:r,compose:s,composeDoubleJamo:u,decomposeDoubleJamo:v,isIotizedVowel:x}}();!function(a,b){"use strict";function d(a){for(var b=[],c=new e(b),d=0;d<a.length;d++)c.next(a.charAt(d));return c.next(),b.join("")}function e(a){this.output=a,this.currentBlock=b,this._prevJamo=b}function f(a){for(var b=[],c=0;c<a.length;c++)g(b,a.charAt(c));return b.join("")}function g(b,d){var e;if(c.hasValue(d))return b.push(c.inverse.get(d)),void 0;if(e=a.decomposeDoubleJamo(d))return b.push(c.inverse.get(e[0])),b.push(c.inverse.get(e[1])),void 0;if(!a.isSyllable(d))return b.push(d),void 0;for(var f=a.decompose(d),g=0;g<f.length;g++){var h=f[g];c.hasValue(h)?b.push(c.inverse.get(h)):(e=a.decomposeDoubleJamo(h),b.push(c.inverse.get(e[0])),b.push(c.inverse.get(e[1])))}}var c=new a.Map;c.addAll({A:"\u3141",B:"\u3160",C:"\u314a",D:"\u314e",E:"\u314f",F:"\u3138",G:"\u3146",H:"\u3157",I:"\u3163",J:"\u315b",K:"\u315c",L:"\u3155",M:"\u3161",N:"\u3153",O:";",P:"\u3132",Q:"\u3143",R:"\u3134",S:"\u3147",T:"\u3139",U:"\u3155",V:"\u314d",W:"\u3149",X:"\u314c",Y:"\u3152",Z:"\u314b",":":"\u3156"}),c.addAll({a:"\u3141",b:"\u3160",c:"\u314a",d:"\u314e",e:"\u314f",f:"\u3137",g:"\u3145",h:"\u3157",i:"\u3163",j:"\u315b",k:"\u315c",l:"\u3155",m:"\u3161",n:"\u3153",o:";",p:"\u3131",q:"\u3142",r:"\u3134",s:"\u3147",t:"\u3139",u:"\u3151",v:"\u314d",w:"\u3148",x:"\u314c",y:"\u3150",z:"\u314b",";":"\u3154"}),e.prototype.reset=function(){this.currentBlock=b,this._prevJamo=b},e.prototype.next=function(a){this.currentBlock=this._next(a)},e.prototype._next=function(d){var i,e=this.output,f=this.currentBlock,g=c.get(d),h=this._prevJamo;if(this._prevJamo=g,"\b"===d){var j=b;return f===b?e.pop():a.isSyllable(f)&&(i=a.decompose(f),j=i[2]?a.compose(i[0],i[1]):i[0]),j}if(!c.hasKey(d))return this._flush(),d!==b&&e.push(d),b;var k=a.composeDoubleJamo(h,g);if(c.hasValue(k)&&(k=b),k&&!a.isSyllable(f))return k;if(k)return i=a.decompose(f),i[a.isMedial(k)?1:2]=k,a.compose.apply(a,i);if(a.isFinal(g))return a.isSyllable(f)&&""===a.getFinal(f)?(i=a.decompose(f),a.compose(i[0],i[1],g)):(this._flush(),g);if(a.isInitial(g))return this._flush(),g;if(a.isInitial(f))return a.compose(f,g,"");if(!a.isSyllable(f)||!a.isInitial(h))return this._flush(),g;if(i=a.decompose(f),a.isInitial(i[2]))return e.push(a.compose(i[0],i[1],"")),a.compose(i[2],g,"");var l=a.decomposeDoubleJamo(i[2]);return e.push(a.compose(i[0],i[1],l[0])),a.compose(l[1],g,"")},e.prototype._flush=function(){this.currentBlock!==b&&this.output.push(this.currentBlock)},a.dubeol={map:c,fromQwerty:d,toQwerty:f,Automaton:e}}(hangul),function(a,b){"use strict";function d(a,b){this.type=a,this.c=b,this.code=b.charCodeAt(0),this.string=a+"["+b+"]"}function f(a){return c("initial",a)}function g(a){return c("medial",a)}function h(a){return c("medial-special",a)}function i(a){return c("final",a)}function j(a){return c("symbol",a)}function k(a){return c("extra",a)}function l(a){for(var b=[],c=new m(b),d=0;d<a.length;d++)c.next(a.charAt(d));return c.next(),b.join("")}function m(a){this.output=a,this.currentBlock=b,this._indexes={initial:0,medial:1,"medial-special":1,"final":2},this._wrappers={initial:f,medial:g,"final":i},this._jamoBlock=[],this._jamoQueue=[]}function n(a){for(var b=[],c=0;c<a.length;c++)o(b,a.charAt(c));return b.join("")}function o(b,c){if(a.isJamo(c))return q(b,c,p(c));if(!a.isSyllable(c))return b.push(e.inverse.get(j(c))||c);var d=a.decompose(c);q(b,d[0],f),q(b,d[1],g),d[2]&&q(b,d[2],i)}function p(b){return a.isInitial(b)?f:a.isMedial(b)?g:i}function q(b,c,d){var i=d(c);if(e.hasValue(i))return b.push(e.inverse.get(i));var j=a.decomposeDoubleJamo(c),k=d===g?h:f;b.push(e.inverse.get(k(j[0]))),b.push(e.inverse.get(d(j[1])))}function r(b){var c={};for(var d in b.items){var e=b.get(d),f=c[e.type]||(c[e.type]={});f[d]=e.c}var g=new a.Map;return g.addAll(c.extra),g.addAll(c.symbol),g.addAll(c["final"]),g.addAll(c["medial-special"]),g.addAll(c.medial),g.addAll(c.initial),g}var c=function(){var b,a={};return function(c,e){return b=a[c]||(a[c]={}),b[e]||(b[e]=new d(c,e))}}();d.prototype.toString=function(){return this.string};var e=new a.Map;e.addAll({"'":f("\u314c"),0:f("\u314b"),";":f("\u3142"),h:f("\u3134"),i:f("\u3141"),j:f("\u3147"),k:f("\u3131"),l:f("\u3148"),m:f("\u314e"),n:f("\u3145"),o:f("\u314a"),p:f("\u314d"),u:f("\u3137"),y:f("\u3139"),4:g("\u315b"),5:g("\u3160"),6:g("\u3151"),7:g("\u3156"),8:g("\u3162"),G:g("\u3152"),b:g("\u315c"),c:g("\u3154"),d:g("\u3163"),e:g("\u3155"),f:g("\u314f"),g:g("\u3161"),r:g("\u3150"),t:g("\u3153"),v:g("\u3157"),"/":h("\u3157"),9:h("\u315c"),"!":i("\u3132"),"#":i("\u3148"),$:i("\u313f"),"%":i("\u313e"),1:i("\u314e"),2:i("\u3146"),3:i("\u3142"),"@":i("\u313a"),A:i("\u3137"),C:i("\u314b"),D:i("\u313c"),E:i("\u3135"),F:i("\u313b"),Q:i("\u314d"),R:i("\u3140"),S:i("\u3136"),T:i("\u313d"),V:i("\u3133"),W:i("\u314c"),X:i("\u3144"),Z:i("\u314a"),a:i("\u3147"),q:i("\u3145"),s:i("\u3134"),w:i("\u3139"),x:i("\u3131"),z:i("\u3141"),'"':j("\xb7"),"&":j("\u201c"),"(":j("'"),")":j("~"),"*":j("\u201d"),"+":j("+"),",":j(","),"-":j(")"),".":j("."),":":j("4"),"<":k(","),"=":j(">"),">":k("."),"?":j("!"),B:j("?"),H:j("0"),I:j("7"),J:j("1"),K:j("2"),L:j("3"),M:j('"'),N:j("-"),O:j("8"),P:j("9"),U:j("6"),Y:j("5"),"[":j("("),"\\":j(":"),"]":j("<"),"^":j("="),_:j(";"),"`":j("*"),"{":j("%"),"|":j("\\"),"}":j("/"),"~":j("\u203b")}),m.prototype.reset=function(){this.currentBlock=b,this._jamoBlock.length=0,this._jamoQueue.length=0},m.prototype.next=function(c){var d;if("\b"===c)return this._jamoQueue.length>0?(d=this._jamoQueue.pop(),delete this._jamoBlock[this._indexes[d.type]],this._renderCurrentBlock()):this.output.pop(),void 0;if(!e.hasKey(c))return this._flush(),c!==b&&this.output.push(c),void 0;if(d=e.get(c),!a.isJamo(d.c))return this._flush(),this.output.push(d.c),void 0;var f=this._indexes[d.type],g=this._jamoBlock,h=g[f];if(h){var i=a.composeDoubleJamo(h.c,d.c);if(i&&("initial"===h.type&&!g[1]&&!g[2]&&a.isInitial(i)||"medial-special"===h.type))return g[f]=this._wrappers[d.type](i),this._renderCurrentBlock(),void 0;this._flush()}g[f]=d,this._jamoQueue.push(d),this._renderCurrentBlock()},m.prototype._flush=function(){this.currentBlock!==b&&(this.output.push(this.currentBlock),this.currentBlock=b),this._jamoBlock.length=0,this._jamoQueue.length=0},m.prototype._renderCurrentBlock=function(){var d,c=this._jamoBlock;d=c[0]?c[1]?c[2]?a.compose(c[0].c,c[1].c,c[2].c):a.compose(c[0].c,c[1].c):c[0].c:c[1]?c[1].c:c[2]?c[2].c:b,this.currentBlock=d},a.sebeol={map:r(e),fromQwerty:l,toQwerty:n,Automaton:m}}(hangul),function(a){function l(a,b){var c=typeof a[b];return"function"===c||!("object"!=c||!a[b])||"unknown"==c}function m(a,c){return typeof a[c]!=b}function n(a,b){return!("object"!=typeof a[b]||!a[b])}function o(a){window.console&&window.console.log&&window.console.log("RangyInputs not supported in your browser. Reason: "+a)}function p(a,c,d){return 0>c&&(c+=a.value.length),typeof d==b&&(d=c),0>d&&(d+=a.value.length),{start:c,end:d}}function q(a,b,c){return{start:b,end:c,length:c-b,text:a.value.slice(b,c)}}function r(){return n(document,"body")?document.body:document.getElementsByTagName("body")[0]}var c,d,e,f,g,h,i,j,k,b="undefined";a(document).ready(function(){function v(a,b){return function(){var c=this.jquery?this[0]:this,d=c.nodeName.toLowerCase();if(1==c.nodeType&&("textarea"==d||"input"==d&&"text"==c.type)){var e=[c].concat(Array.prototype.slice.call(arguments)),f=a.apply(this,e);if(!b)return f}return b?this:void 0}}var s=document.createElement("textarea");if(r().appendChild(s),m(s,"selectionStart")&&m(s,"selectionEnd"))c=function(a){var b=a.selectionStart,c=a.selectionEnd;return q(a,b,c)},d=function(a,b,c){var d=p(a,b,c);a.selectionStart=d.start,a.selectionEnd=d.end},k=function(a,b){b?a.selectionEnd=a.selectionStart:a.selectionStart=a.selectionEnd};else{if(!(l(s,"createTextRange")&&n(document,"selection")&&l(document.selection,"createRange")))return r().removeChild(s),o("No means of finding text input caret position"),void 0;c=function(a){var d,e,f,g,b=0,c=0,h=document.selection.createRange();return h&&h.parentElement()==a&&(f=a.value.length,d=a.value.replace(/\r\n/g,"\n"),e=a.createTextRange(),e.moveToBookmark(h.getBookmark()),g=a.createTextRange(),g.collapse(!1),e.compareEndPoints("StartToEnd",g)>-1?b=c=f:(b=-e.moveStart("character",-f),b+=d.slice(0,b).split("\n").length-1,e.compareEndPoints("EndToEnd",g)>-1?c=f:(c=-e.moveEnd("character",-f),c+=d.slice(0,c).split("\n").length-1))),q(a,b,c)};var t=function(a,b){return b-(a.value.slice(0,b).split("\r\n").length-1)};d=function(a,b,c){var d=p(a,b,c),e=a.createTextRange(),f=t(a,d.start);e.collapse(!0),d.start==d.end?e.move("character",f):(e.moveEnd("character",t(a,d.end)),e.moveStart("character",f)),e.select()},k=function(a,b){var c=document.selection.createRange();c.collapse(b),c.select()}}r().removeChild(s),f=function(a,b,c,e){var f;b!=c&&(f=a.value,a.value=f.slice(0,b)+f.slice(c)),e&&d(a,b,b)},e=function(a){var b=c(a);f(a,b.start,b.end,!0)},j=function(a){var e,b=c(a);return b.start!=b.end&&(e=a.value,a.value=e.slice(0,b.start)+e.slice(b.end)),d(a,b.start,b.start),b.text};var u=function(a,b,c,e){var f=b+c.length;if(e="string"==typeof e?e.toLowerCase():"",("collapsetoend"==e||"select"==e)&&/[\r\n]/.test(c)){var g=c.replace(/\r\n/g,"\n").replace(/\r/g,"\n");f=b+g.length;var h=b+g.indexOf("\n");"\r\n"==a.value.slice(h,h+2)&&(f+=g.match(/\n/g).length)}switch(e){case"collapsetostart":d(a,b,b);break;case"collapsetoend":d(a,f,f);break;case"select":d(a,b,f)}};g=function(a,b,c,d){var e=a.value;a.value=e.slice(0,c)+b+e.slice(c),"boolean"==typeof d&&(d=d?"collapseToEnd":""),u(a,c,b,d)},h=function(a,b,d){var e=c(a),f=a.value;a.value=f.slice(0,e.start)+b+f.slice(e.end),u(a,e.start,b,d||"collapseToEnd")},i=function(a,d,e,f){typeof e==b&&(e=d);var g=c(a),h=a.value;a.value=h.slice(0,g.start)+d+g.text+e+h.slice(g.end);var i=g.start+d.length;u(a,i,g.text,f||"select")},a.fn.extend({getSelection:v(c,!1),setSelection:v(d,!0),collapseSelection:v(k,!0),deleteSelectedText:v(e,!0),deleteText:v(f,!0),extractSelectedText:v(j,!1),insertText:v(g,!0),replaceSelectedText:v(h,!0),surroundSelectedText:v(i,!0)})})}(jQuery),function(a,b,c){function j(b){var c=a(this),d=b.which;if(!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey&&d==i.SPACE||d==i.IME||0==d||d==i.BACKSPACE||d==i.TAB||d==i.PAUSE_BREAK||d==i.CAPS_LOCK||d==i.SCROLL_LOCK))return"hangul"===g?o(c,b.which):void 0}function k(b){var c=a(this),d=b.which;if(b.altKey&&b.shiftKey&&d==i.SPACE)return n(),!1;if(b.shiftKey&&d==i.SPACE||d==i.IME)return m(),!1;if("hangul"===g){if(d==i.BACKSPACE)return p(c);(b.metaKey||b.altKey||b.ctrlKey||d==i.TAB||d==i.PAUSE_BREAK||d==i.CAPS_LOCK||d==i.INSERT||d==i.DELETE||d==i.LEFT_WINDOWS||d==i.RIGHT_WINDOWS||d==i.SCROLL_LOCK||d>=i.PAGE_UP&&d<=i.DOWN_ARROW||d>=i.F1&&d<=i.F12)&&f.reset()}}function l(){"hangul"===g&&f.reset()}function m(){g="hangul"===g?"qwerty":"hangul",f.reset()}function n(){f=f===e.dubeol?e.sebeol:e.dubeol,f.reset()}function o(a,b){var e=!1;if(f.currentBlock!==c){var g=a.getSelection();a.setSelection(g.end-1,g.end),a.getSelection().text!==f.currentBlock&&a.setSelection(g.start,g.end)}b==i.RETURN&&(b=10);var h=String.fromCharCode(b);return f.next(h),d.length>0&&(d[d.length-1]===h&&f.currentBlock===c&&(d.pop(),e=!0),a.replaceSelectedText(d.join("")),d.length=0,e)?void 0:(f.currentBlock!==c&&a.replaceSelectedText(f.currentBlock),!1)}function p(a){if(f.currentBlock===c)return!0;var b=a.getSelection();return a.setSelection(b.end-1,b.end),f.next("\b"),f.currentBlock===c?a.deleteSelectedText():a.replaceSelectedText(f.currentBlock),!1}var d=[],e={dubeol:new b.dubeol.Automaton(d),sebeol:new b.sebeol.Automaton(d)},f=e.dubeol,g="hangul",h={init:function(b){return this.each(function(){var c=a(this),d=c.data("hangulime");if(!d){var e=a.extend({},b),f={"keypress.hangulime":j,"keydown.hangulime":k,"mousedown.hangulime":l,"blur.hangulime":l};c.data("hangulime",{config:e}).bind(f)}})},destroy:function(){return this.each(function(){var b=a(this),c=b.data("hangulime");c&&b.unbind(".hangulime").removeData("hangulime")})}};a.fn.hangulime=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.hangulime"),void 0):h.init.apply(this,arguments)};var i={BACKSPACE:8,TAB:9,RETURN:13,PAUSE_BREAK:19,CAPS_LOCK:20,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,LEFT_WINDOWS:91,RIGHT_WINDOWS:92,RIGHT_COMMAND:93,F1:112,F12:123,SCROLL_LOCK:145,IME:229}}(jQuery,hangul);